{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alessandro/Downloads/wedding-landing/app/api/rsvp/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { promises as fs } from \"fs\"\nimport path from \"path\"\n\nconst DATA_PATH = path.join(process.cwd(), \"data\", \"rsvps.json\")\n\nasync function ensureFile() {\n  try {\n    await fs.access(DATA_PATH)\n  } catch {\n    await fs.mkdir(path.dirname(DATA_PATH), { recursive: true })\n    await fs.writeFile(DATA_PATH, \"[]\", \"utf-8\")\n  }\n}\n\nexport async function GET() {\n  await ensureFile()\n  const buf = await fs.readFile(DATA_PATH, \"utf-8\")\n  const data = JSON.parse(buf)\n  return NextResponse.json(data)\n}\n\nexport async function POST(request: Request) {\n  await ensureFile()\n  const body = await request.json()\n  const entry = {\n    name: String(body?.name || \"\"),\n    guests: Number(body?.guests || 0),\n    message: String(body?.message || \"\"),\n    createdAt: new Date().toISOString(),\n  }\n  const buf = await fs.readFile(DATA_PATH, \"utf-8\")\n  const data = JSON.parse(buf)\n  data.push(entry)\n  await fs.writeFile(DATA_PATH, JSON.stringify(data, null, 2), \"utf-8\")\n  return NextResponse.json(entry, { status: 201 })\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAEnD,eAAe;IACb,IAAI;QACF,MAAM,yGAAE,CAAC,MAAM,CAAC;IAClB,EAAE,OAAM;QACN,MAAM,yGAAE,CAAC,KAAK,CAAC,4GAAI,CAAC,OAAO,CAAC,YAAY;YAAE,WAAW;QAAK;QAC1D,MAAM,yGAAE,CAAC,SAAS,CAAC,WAAW,MAAM;IACtC;AACF;AAEO,eAAe;IACpB,MAAM;IACN,MAAM,MAAM,MAAM,yGAAE,CAAC,QAAQ,CAAC,WAAW;IACzC,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,OAAgB;IACzC,MAAM;IACN,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,QAAQ;QACZ,MAAM,OAAO,MAAM,QAAQ;QAC3B,QAAQ,OAAO,MAAM,UAAU;QAC/B,SAAS,OAAO,MAAM,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,MAAM,MAAM,MAAM,yGAAE,CAAC,QAAQ,CAAC,WAAW;IACzC,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,KAAK,IAAI,CAAC;IACV,MAAM,yGAAE,CAAC,SAAS,CAAC,WAAW,KAAK,SAAS,CAAC,MAAM,MAAM,IAAI;IAC7D,OAAO,gJAAY,CAAC,IAAI,CAAC,OAAO;QAAE,QAAQ;IAAI;AAChD","debugId":null}}]
}