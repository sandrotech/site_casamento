{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alessandro/Desktop/Projetos/site_casamento/app/api/admin/login/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\n\r\nconst PASSWORD = (process.env.ADMIN_PASSWORD || \"familia_santos\").toLowerCase().trim()\r\n\r\nexport async function POST(request: Request) {\r\n  const contentType = request.headers.get(\"content-type\") || \"\"\r\n  let pwd = \"\"\r\n  if (contentType.includes(\"application/json\")) {\r\n    const body = await request.json()\r\n    pwd = String(body?.password || \"\")\r\n  } else if (contentType.includes(\"multipart/form-data\")) {\r\n    const form = await request.formData()\r\n    pwd = String(form.get(\"password\") || \"\")\r\n  }\r\n  if (pwd.trim().toLowerCase() === PASSWORD) {\r\n    const res = NextResponse.json({ ok: true })\r\n    res.cookies.set(\"admin_auth\", \"ok\", { httpOnly: true, path: \"/\", maxAge: 60 * 60 * 24 * 7 })\r\n    return res\r\n  }\r\n  return NextResponse.json({ error: \"unauthorized\" }, { status: 401 })\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,WAAW,CAAC,QAAQ,GAAG,CAAC,cAAc,IAAI,gBAAgB,EAAE,WAAW,GAAG,IAAI;AAE7E,eAAe,KAAK,OAAgB;IACzC,MAAM,cAAc,QAAQ,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAC3D,IAAI,MAAM;IACV,IAAI,YAAY,QAAQ,CAAC,qBAAqB;QAC5C,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,OAAO,MAAM,YAAY;IACjC,OAAO,IAAI,YAAY,QAAQ,CAAC,wBAAwB;QACtD,MAAM,OAAO,MAAM,QAAQ,QAAQ;QACnC,MAAM,OAAO,KAAK,GAAG,CAAC,eAAe;IACvC;IACA,IAAI,IAAI,IAAI,GAAG,WAAW,OAAO,UAAU;QACzC,MAAM,MAAM,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;QACzC,IAAI,OAAO,CAAC,GAAG,CAAC,cAAc,MAAM;YAAE,UAAU;YAAM,MAAM;YAAK,QAAQ,KAAK,KAAK,KAAK;QAAE;QAC1F,OAAO;IACT;IACA,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;AACpE","debugId":null}}]
}